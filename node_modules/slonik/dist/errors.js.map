{"version":3,"sources":["../src/errors.js"],"names":["SlonikError","ExtendableError","InvalidInputError","UnexpectedStateError","ConnectionError","QueryCancelledError","constructor","error","originalError","message","BackendTerminatedError","NotFoundError","DataIntegrityError","IntegrityConstraintViolationError","constraint","NotNullIntegrityConstraintViolationError","ForeignKeyIntegrityConstraintViolationError","UniqueIntegrityConstraintViolationError","CheckIntegrityConstraintViolationError"],"mappings":";;;;;;;AAIA;;;;AAFA;AAIO,MAAMA,WAAN,SAA0BC,iBAA1B,CAA0C;;;;AAE1C,MAAMC,iBAAN,SAAgCF,WAAhC,CAA4C;;;;AAE5C,MAAMG,oBAAN,SAAmCH,WAAnC,CAA+C;;;;AAE/C,MAAMI,eAAN,SAA8BJ,WAA9B,CAA0C;;;;AAE1C,MAAMK,mBAAN,SAAkCL,WAAlC,CAA8C;AACnDM,EAAAA,WAAW,CAAEC,KAAF,EAAgB;AACzB;AAEA,SAAKC,aAAL,GAAqBD,KAArB;AACA,SAAKE,OAAL,GAAe,2BAAf;AACD;;AANkD;;;;AAS9C,MAAMC,sBAAN,SAAqCV,WAArC,CAAiD;AACtDM,EAAAA,WAAW,CAAEC,KAAF,EAAgB;AACzB;AAEA,SAAKC,aAAL,GAAqBD,KAArB;AACA,SAAKE,OAAL,GAAe,8BAAf;AACD;;AANqD;;;;AASjD,MAAME,aAAN,SAA4BX,WAA5B,CAAwC;AAC7CM,EAAAA,WAAW,GAAI;AACb,UAAM,qBAAN;AACD;;AAH4C;;;;AAMxC,MAAMM,kBAAN,SAAiCZ,WAAjC,CAA6C;AAClDM,EAAAA,WAAW,GAAI;AACb,UAAM,qCAAN;AACD;;AAHiD;;;;AAM7C,MAAMO,iCAAN,SAAgDb,WAAhD,CAA4D;AAGjEM,EAAAA,WAAW,CAAEC,KAAF,EAAgBO,UAAhB,EAAoC;AAC7C;AAEA,SAAKN,aAAL,GAAqBD,KAArB;AACA,SAAKO,UAAL,GAAkBA,UAAlB;AACD;;AARgE,C,CAWnE;AACA;;;;;AAEO,MAAMC,wCAAN,SAAuDF,iCAAvD,CAAyF;AAC9FP,EAAAA,WAAW,CAAEC,KAAF,EAAgBO,UAAhB,EAAoC;AAC7C,UAAMP,KAAN,EAAaO,UAAb;AAEA,SAAKN,aAAL,GAAqBD,KAArB;AACA,SAAKE,OAAL,GAAe,iDAAf;AACD;;AAN6F;;;;AASzF,MAAMO,2CAAN,SAA0DH,iCAA1D,CAA4F;AACjGP,EAAAA,WAAW,CAAEC,KAAF,EAAgBO,UAAhB,EAAoC;AAC7C,UAAMP,KAAN,EAAaO,UAAb;AAEA,SAAKN,aAAL,GAAqBD,KAArB;AACA,SAAKE,OAAL,GAAe,oDAAf;AACD;;AANgG;;;;AAS5F,MAAMQ,uCAAN,SAAsDJ,iCAAtD,CAAwF;AAC7FP,EAAAA,WAAW,CAAEC,KAAF,EAAgBO,UAAhB,EAAoC;AAC7C,UAAMP,KAAN,EAAaO,UAAb;AAEA,SAAKN,aAAL,GAAqBD,KAArB;AACA,SAAKE,OAAL,GAAe,+CAAf;AACD;;AAN4F;;;;AASxF,MAAMS,sCAAN,SAAqDL,iCAArD,CAAuF;AAC5FP,EAAAA,WAAW,CAAEC,KAAF,EAAgBO,UAAhB,EAAoC;AAC7C,UAAMP,KAAN,EAAaO,UAAb;AAEA,SAAKN,aAAL,GAAqBD,KAArB;AACA,SAAKE,OAAL,GAAe,8CAAf;AACD;;AAN2F","sourcesContent":["// @flow\n\n/* eslint-disable fp/no-class, fp/no-this */\n\nimport ExtendableError from 'es6-error';\n\nexport class SlonikError extends ExtendableError {}\n\nexport class InvalidInputError extends SlonikError {}\n\nexport class UnexpectedStateError extends SlonikError {}\n\nexport class ConnectionError extends SlonikError {}\n\nexport class QueryCancelledError extends SlonikError {\n  constructor (error: Error) {\n    super();\n\n    this.originalError = error;\n    this.message = 'Query has been cancelled.';\n  }\n}\n\nexport class BackendTerminatedError extends SlonikError {\n  constructor (error: Error) {\n    super();\n\n    this.originalError = error;\n    this.message = 'Backend has been terminated.';\n  }\n}\n\nexport class NotFoundError extends SlonikError {\n  constructor () {\n    super('Resource not found.');\n  }\n}\n\nexport class DataIntegrityError extends SlonikError {\n  constructor () {\n    super('Query returns an unexpected result.');\n  }\n}\n\nexport class IntegrityConstraintViolationError extends SlonikError {\n  constraint: string;\n\n  constructor (error: Error, constraint: string) {\n    super();\n\n    this.originalError = error;\n    this.constraint = constraint;\n  }\n}\n\n// @todo When does restrict_violation and exclusion_violation happen?\n// @see https://www.postgresql.org/docs/9.4/static/errcodes-appendix.html\n\nexport class NotNullIntegrityConstraintViolationError extends IntegrityConstraintViolationError {\n  constructor (error: Error, constraint: string) {\n    super(error, constraint);\n\n    this.originalError = error;\n    this.message = 'Query violates a not NULL integrity constraint.';\n  }\n}\n\nexport class ForeignKeyIntegrityConstraintViolationError extends IntegrityConstraintViolationError {\n  constructor (error: Error, constraint: string) {\n    super(error, constraint);\n\n    this.originalError = error;\n    this.message = 'Query violates a foreign key integrity constraint.';\n  }\n}\n\nexport class UniqueIntegrityConstraintViolationError extends IntegrityConstraintViolationError {\n  constructor (error: Error, constraint: string) {\n    super(error, constraint);\n\n    this.originalError = error;\n    this.message = 'Query violates a unique integrity constraint.';\n  }\n}\n\nexport class CheckIntegrityConstraintViolationError extends IntegrityConstraintViolationError {\n  constructor (error: Error, constraint: string) {\n    super(error, constraint);\n\n    this.originalError = error;\n    this.message = 'Query violates a check integrity constraint.';\n  }\n}\n"],"file":"errors.js"}